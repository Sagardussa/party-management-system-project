import{D as b,E as k,V as S,W as v,_ as $,a as o,b as y,c as f,j as h,m as d,x as j}from"./chunk-UQDSR4D3.js";var A=(()=>{let n=class n{constructor(){this.apiUrls="https://ap.greatfuturetechno.com/",this.http=d($)}getparty(){return this.http.get(`${this.apiUrls}party/`)}addParty(t){return this.http.post(`${this.apiUrls}party/`,t)}updateParty(t,s){return this.http.put(`${this.apiUrls}party/?id=${t}`,s)}deleteParty(t){return this.http.delete(`${this.apiUrls}party/?id=${t}`)}getpartyDataById(t){return this.http.get(`${this.apiUrls}party/?id=${t}`)}};n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=h({token:n,factory:n.\u0275fac,providedIn:"root"});let e=n;return e})();var u=Symbol("STATE_SIGNAL");function c(e,...n){e[u].update(i=>n.reduce((t,s)=>o(o({},t),typeof s=="function"?s(t):s),i))}function U(e){let n=v(()=>e());return R(n)?new Proxy(e,{get(i,t){return t in n?(b(i[t])||Object.defineProperty(i,t,{value:S(()=>i()[t]),configurable:!0}),U(i[t])):i[t]}}):e}function R(e){return e?.constructor===Object}function L(...e){let n=[...e],i="providedIn"in n[0]?n.shift():{},t=n;return(()=>{class a{constructor(){let r=t.reduce((p,T)=>T(p),C()),{slices:l,signals:P,methods:K,hooks:M}=r,D=o(o(o({},l),P),K);this[u]=r[u];for(let p in D)this[p]=D[p];let{onInit:w,onDestroy:I}=M;w&&w(),I&&d(j).onDestroy(I)}static \u0275fac=function(l){return new(l||a)};static \u0275prov=h({token:a,factory:a.\u0275fac,providedIn:i.providedIn||null})}return a})()}function C(){return{[u]:k({}),slices:{},signals:{},methods:{},hooks:{}}}function g(e,n){return Object.keys(e).reduce((i,t)=>(n.includes(t)||(i[t]=e[t]),i),{})}function x(e){return n=>{let i=e(o(o(o({[u]:n[u]},n.slices),n.signals),n.methods)),t=Object.keys(i),s=g(n.slices,t),a=g(n.signals,t);return y(o({},n),{slices:s,signals:a,methods:o(o({},n.methods),i)})}}function H(e){return n=>{let i=typeof e=="function"?e():e,t=Object.keys(i);n[u].update(r=>o(o({},r),i));let s=t.reduce((r,l)=>{let P=S(()=>n[u]()[l]);return y(o({},r),{[l]:U(P)})},{}),a=g(n.signals,t),m=g(n.methods,t);return y(o({},n),{slices:o(o({},n.slices),s),signals:a,methods:m})}}var E={partyData:[],loading:!1},Z=L({providedIn:"root"},H(E),x((e,n=d(A))=>({loadPartyListAll(){return f(this,null,function*(){c(e,{loading:!0});let t=yield(yield n.getparty()).toPromise();c(e,{partyData:t,loading:!1})})},addNewParty(t){return f(this,null,function*(){c(e,{loading:!0});let s=yield n.addParty(t).toPromise();c(e,a=>({partyData:[...a.partyData,s],loading:!1}))})},updatePartyList(t,s){return f(this,null,function*(){c(e,{loading:!0});let a=yield n.updateParty(t,s).toPromise();c(e,m=>({partyData:m.partyData.map(r=>r.id===a.id?a:r),loading:!1}))})},deletePartyList(t){return f(this,null,function*(){c(e,{loading:!0}),yield n.deleteParty(t).toPromise(),c(e,s=>({partyData:s.partyData.filter(a=>a.id!==t),loading:!1}))})}})));export{A as a,Z as b};
